# 2ch Thread Downloader - Chrome Extension

Chrome —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ç—Ä–µ–¥–æ–≤ —Å 2ch.hk —á–µ—Ä–µ–∑ –≤–∞—à API —Å–µ—Ä–≤–µ—Ä.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –î–æ–±–∞–≤–ª—è–µ—Ç –∫–Ω–æ–ø–∫—É "üì• –°–∫–∞—á–∞—Ç—å —Ç—Ä–µ–¥" –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç—Ä–µ–¥–æ–≤ 2ch.hk
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π URL API —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–≥—Ä—É–∑–æ–∫
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

1. –°–∫–∞—á–∞–π—Ç–µ –∏–ª–∏ —Å–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø–∞–ø–∫—É `chrome-extension`
2. –û—Ç–∫—Ä–æ–π—Ç–µ Chrome –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `chrome://extensions/`
3. –í–∫–ª—é—á–∏—Ç–µ "–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞" –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
4. –ù–∞–∂–º–∏—Ç–µ "–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ"
5. –í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É `chrome-extension`

### –ò–∑ Chrome Web Store

*–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ*

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
2. –ù–∞–∂–º–∏—Ç–µ "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏"
3. –í–≤–µ–¥–∏—Ç–µ URL –≤–∞—à–µ–≥–æ API —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `http://localhost/api`)
4. –ù–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –°–ø–æ—Å–æ–± 1: –ö–Ω–æ–ø–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±–æ–π —Ç—Ä–µ–¥ –Ω–∞ 2ch.hk
2. –í –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–µ–¥–æ–º –Ω–∞–π–¥–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üì• –°–∫–∞—á–∞—Ç—å —Ç—Ä–µ–¥"
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É - —Ç—Ä–µ–¥ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ popup

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç—Ä–µ–¥ –Ω–∞ 2ch.hk
2. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
3. –ù–∞–∂–º–∏—Ç–µ "üì• –°–∫–∞—á–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Ç—Ä–µ–¥"

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
chrome-extension/
‚îú‚îÄ‚îÄ manifest.json          # –ú–∞–Ω–∏—Ñ–µ—Å—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (Manifest V3)
‚îú‚îÄ‚îÄ background.js          # Service Worker –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
‚îú‚îÄ‚îÄ content.js            # Content Script –¥–ª—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∏
‚îú‚îÄ‚îÄ content.css           # –°—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
‚îú‚îÄ‚îÄ popup.html            # HTML popup –æ–∫–Ω–∞
‚îú‚îÄ‚îÄ popup.js              # –õ–æ–≥–∏–∫–∞ popup –æ–∫–Ω–∞
‚îú‚îÄ‚îÄ popup.css             # –°—Ç–∏–ª–∏ popup –æ–∫–Ω–∞
‚îú‚îÄ‚îÄ options.html          # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îú‚îÄ‚îÄ options.js            # –õ–æ–≥–∏–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îú‚îÄ‚îÄ options.css           # –°—Ç–∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îî‚îÄ‚îÄ icons/                # –ò–∫–æ–Ω–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
    ‚îú‚îÄ‚îÄ icon-16.png
    ‚îú‚îÄ‚îÄ icon-32.png
    ‚îú‚îÄ‚îÄ icon-48.png
    ‚îî‚îÄ‚îÄ icon-128.png
```

## üîß API Requirements

–í–∞—à —Å–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ endpoints:

- `POST /download/{thread_id}` - –∑–∞–ø—É—Å–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç—Ä–µ–¥–∞
- `GET /status/{thread_id}` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–≥—Ä—É–∑–∫–∏
- `GET /health` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ `/download/{thread_id}`:
```json
{
  "task_id": "550e8400-e29b-41d4-a716-446655440000",
  "thread_id": "123456",
  "status": "started",
  "message": "–ó–∞–¥–∞—á–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç—Ä–µ–¥–∞ 123456 –∑–∞–ø—É—â–µ–Ω–∞"
}
```

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ `/status/{thread_id}`:
```json
{
  "task_id": "550e8400-e29b-41d4-a716-446655440000",
  "thread_id": "123456",
  "state": "SUCCESS",
  "progress": 100,
  "stats": {
    "photos": 42,
    "videos": 5,
    "total": 47
  }
}
```

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∏

–í —Ñ–∞–π–ª–µ `content.js` –Ω–∞–π–¥–∏—Ç–µ:
```javascript
const toolbarSelector = 'div.tn__item.desktop';
```

–ò–∑–º–µ–Ω–∏—Ç–µ —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∏ –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ.

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `content.css` –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞ –∫–Ω–æ–ø–∫–∏.

## üêõ –û—Ç–ª–∞–¥–∫–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (F12)
2. –î–ª—è background script: `chrome://extensions/` ‚Üí "–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–∏–¥—ã: Service Worker"
3. –î–ª—è content script: –∫–æ–Ω—Å–æ–ª—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ 2ch.hk
4. –í–∫–ª—é—á–∏—Ç–µ "–†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏" –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

## üìù –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Chrome 88+ (–¥–ª—è Manifest V3)
- –ë–∞–∑–æ–≤—ã–µ –∑–Ω–∞–Ω–∏—è JavaScript/HTML/CSS

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
1. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `chrome://extensions/`
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è ‚Üª —Ä—è–¥–æ–º —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º
4. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É 2ch.hk

## ü§ù Contributing

Pull requests –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è! –î–ª—è –±–æ–ª—å—à–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ issue.

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## ‚ö†Ô∏è –î–∏—Å–∫–ª–µ–π–º–µ—Ä

–≠—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–æ –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã —Å–æ–±–ª—é–¥–∞–µ—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è 2ch.hk –∏ –Ω–µ —Å–æ–∑–¥–∞–µ—Ç–µ —á—Ä–µ–∑–º–µ—Ä–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –∏—Ö —Å–µ—Ä–≤–µ—Ä—ã. 